# YouTube å­—å¹•è½‰æ›å™¨ ğŸ¬

å°‡ YouTube å½±ç‰‡è‡ªå‹•è½‰æ›ç‚ºå¸¶æœ‰ä¸­è‹±æ–‡é›™èªå­—å¹•çš„ç‰ˆæœ¬ã€‚

## åŠŸèƒ½ç‰¹è‰²

- **è‡ªå‹•ä¸‹è¼‰** - è¼¸å…¥ YouTube URL å³å¯è‡ªå‹•ä¸‹è¼‰å½±ç‰‡
- **æ™ºæ…§å­—å¹•** - å„ªå…ˆä½¿ç”¨ YouTube ç¾æœ‰å­—å¹•ï¼Œè‹¥ç„¡å‰‡ä½¿ç”¨ AI èªéŸ³è¾¨è­˜
- **AI ç¿»è­¯** - ä½¿ç”¨ Google Gemini API å°‡è‹±æ–‡å­—å¹•ç¿»è­¯æˆç¹é«”ä¸­æ–‡
- **é›™èªå­—å¹•** - åŒæ™‚é¡¯ç¤ºä¸­æ–‡å’Œè‹±æ–‡å­—å¹•
- **å­—å¹•ç‡’éŒ„** - å°‡å­—å¹•ç›´æ¥åµŒå…¥å½±ç‰‡ï¼Œç„¡éœ€é¡å¤–å­—å¹•æª”

## ç³»çµ±éœ€æ±‚

- Python 3.9+
- FFmpeg
- yt-dlp
- Google Gemini API é‡‘é‘°

## å®‰è£æ­¥é©Ÿ

### 1. å®‰è£ç³»çµ±ä¾è³´

```bash
# Ubuntu/Debian
sudo apt update
sudo apt install ffmpeg

# macOS
brew install ffmpeg

# Windows
# å¾ https://ffmpeg.org/download.html ä¸‹è¼‰å®‰è£
```

### 2. å®‰è£ Python å¥—ä»¶

```bash
cd tools/youtube_subtitle_converter
pip install -r requirements.txt
```

### 3. è¨­å®šç’°å¢ƒè®Šæ•¸

```bash
# è¤‡è£½ç’°å¢ƒè®Šæ•¸ç¯„æœ¬
cp .env.example .env

# ç·¨è¼¯ .env æª”æ¡ˆï¼Œå¡«å…¥ä½ çš„ Gemini API é‡‘é‘°
# GEMINI_API_KEY=your_api_key_here
```

å–å¾— Gemini API é‡‘é‘°ï¼šhttps://aistudio.google.com/apikey

## ä½¿ç”¨æ–¹å¼

### å‘½ä»¤åˆ—ä½¿ç”¨

```bash
# åŸºæœ¬ä½¿ç”¨
python main.py "https://www.youtube.com/watch?v=VIDEO_ID"

# æŒ‡å®šè¼¸å‡ºå“è³ª
python main.py "https://youtu.be/VIDEO_ID" -q 1080p

# æŒ‡å®šè¼¸å‡ºç›®éŒ„
python main.py "https://youtu.be/VIDEO_ID" -o ./my_videos

# ä½¿ç”¨è»Ÿå­—å¹•ï¼ˆå¯é–‹é—œï¼‰
python main.py "https://youtu.be/VIDEO_ID" --soft-subtitle

# ä¿ç•™æš«å­˜æª”æ¡ˆï¼ˆç”¨æ–¼é™¤éŒ¯ï¼‰
python main.py "https://youtu.be/VIDEO_ID" --keep-temp
```

### ç¨‹å¼ç¢¼ä½¿ç”¨

```python
from main import YouTubeSubtitleConverter
from embedder import EmbedMode

# å»ºç«‹è½‰æ›å™¨
converter = YouTubeSubtitleConverter(
    output_dir="./output",
    gemini_api_key="your_api_key"  # æˆ–ä½¿ç”¨ç’°å¢ƒè®Šæ•¸
)

# è½‰æ›å½±ç‰‡
result = converter.convert(
    youtube_url="https://www.youtube.com/watch?v=VIDEO_ID",
    quality="720p",
    embed_mode=EmbedMode.HARD
)

# å–å¾—çµæœ
print(f"è¼¸å‡ºå½±ç‰‡: {result.output_video_path}")
print(f"ä¸­æ–‡å­—å¹•: {result.chinese_subtitle_path}")
print(f"è‹±æ–‡å­—å¹•: {result.english_subtitle_path}")
```

## è¼¸å‡ºæª”æ¡ˆ

è½‰æ›å®Œæˆå¾Œï¼Œæœƒåœ¨è¼¸å‡ºç›®éŒ„ç”¢ç”Ÿä»¥ä¸‹æª”æ¡ˆï¼š

| æª”æ¡ˆ | èªªæ˜ |
|------|------|
| `{æ¨™é¡Œ}_subtitled.mp4` | å¸¶æœ‰é›™èªå­—å¹•çš„å½±ç‰‡ |
| `{æ¨™é¡Œ}_zh.srt` | ç´”ä¸­æ–‡å­—å¹•æª” |
| `{æ¨™é¡Œ}_en.srt` | ç´”è‹±æ–‡å­—å¹•æª” |
| `{æ¨™é¡Œ}_bilingual.ass` | é›™èªå­—å¹•æª”ï¼ˆASS æ ¼å¼ï¼‰ |

## è¨­å®šé¸é …

### ç’°å¢ƒè®Šæ•¸

| è®Šæ•¸åç¨± | èªªæ˜ | é è¨­å€¼ |
|----------|------|--------|
| `GEMINI_API_KEY` | Gemini API é‡‘é‘° | (å¿…å¡«) |
| `GEMINI_MODEL` | Gemini æ¨¡å‹ | `gemini-2.0-flash-exp` |
| `OUTPUT_DIR` | è¼¸å‡ºç›®éŒ„ | `./output` |
| `TEMP_DIR` | æš«å­˜ç›®éŒ„ | `./temp` |
| `MAX_VIDEO_DURATION` | æœ€å¤§å½±ç‰‡é•·åº¦(ç§’) | `3600` |
| `VIDEO_QUALITY` | å½±ç‰‡å“è³ª | `720p` |
| `SUBTITLE_FONT` | å­—å¹•å­—é«” | `Noto Sans CJK TC` |
| `SUBTITLE_FONT_SIZE` | å­—å¹•å¤§å° | `24` |

### å‘½ä»¤åˆ—åƒæ•¸

| åƒæ•¸ | èªªæ˜ |
|------|------|
| `-q, --quality` | å½±ç‰‡å“è³ª (å¦‚ 720p, 1080p) |
| `-o, --output-dir` | è¼¸å‡ºç›®éŒ„ |
| `--soft-subtitle` | ä½¿ç”¨è»Ÿå­—å¹• |
| `--keep-temp` | ä¿ç•™æš«å­˜æª”æ¡ˆ |
| `--source-lang` | åŸå§‹èªè¨€ (é è¨­: en) |
| `--target-lang` | ç›®æ¨™èªè¨€ (é è¨­: zh-TW) |

## è™•ç†æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  YouTube URL    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä¸‹è¼‰å½±ç‰‡/éŸ³è¨Š   â”‚ â† yt-dlp
â”‚  ä¸‹è¼‰ç¾æœ‰å­—å¹•    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  èªéŸ³è¾¨è­˜        â”‚ â† Gemini API
â”‚  (è‹¥ç„¡ç¾æœ‰å­—å¹•)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç¿»è­¯å­—å¹•        â”‚ â† Gemini API
â”‚  è‹±æ–‡ â†’ ä¸­æ–‡     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç”Ÿæˆå­—å¹•æª”æ¡ˆ    â”‚
â”‚  SRT / ASS      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  åµŒå…¥å­—å¹•åˆ°å½±ç‰‡  â”‚ â† FFmpeg
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¼¸å‡ºæœ€çµ‚å½±ç‰‡    â”‚
â”‚  + å­—å¹•æª”æ¡ˆ      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æ³¨æ„äº‹é …

1. **API è²»ç”¨** - Gemini API æœ‰å…è²»é¡åº¦é™åˆ¶ï¼Œå¤§é‡ä½¿ç”¨è«‹æ³¨æ„è²»ç”¨
2. **å½±ç‰‡é•·åº¦** - å»ºè­°è™•ç† 60 åˆ†é˜ä»¥å…§çš„å½±ç‰‡
3. **ç‰ˆæ¬Š** - è«‹ç¢ºä¿æ‚¨æœ‰æ¬Šä½¿ç”¨å’Œä¿®æ”¹è©²å½±ç‰‡
4. **å­—é«”** - å»ºè­°å®‰è£ Noto Sans CJK TC å­—é«”ä»¥ç²å¾—æœ€ä½³ä¸­æ–‡é¡¯ç¤ºæ•ˆæœ

## å¸¸è¦‹å•é¡Œ

### Q: æ‰¾ä¸åˆ° FFmpegï¼Ÿ
A: è«‹ç¢ºèªå·²æ­£ç¢ºå®‰è£ FFmpeg ä¸¦åŠ å…¥ç³»çµ± PATHã€‚

### Q: Gemini API å›å‚³éŒ¯èª¤ï¼Ÿ
A: è«‹æª¢æŸ¥ API é‡‘é‘°æ˜¯å¦æ­£ç¢ºï¼Œä»¥åŠæ˜¯å¦è¶…éå…è²»é¡åº¦ã€‚

### Q: å­—å¹•æ™‚é–“ä¸æº–ç¢ºï¼Ÿ
A: é€™å¯èƒ½æ˜¯ AI èªéŸ³è¾¨è­˜çš„é™åˆ¶ï¼Œå»ºè­°ä½¿ç”¨æœ‰ç¾æœ‰å­—å¹•çš„å½±ç‰‡ã€‚

### Q: ä¸­æ–‡å­—é«”é¡¯ç¤ºäº‚ç¢¼ï¼Ÿ
A: è«‹å®‰è£æ”¯æ´ä¸­æ–‡çš„å­—é«”ï¼Œå¦‚ Noto Sans CJK TCã€‚

## æˆæ¬Š

MIT License
